\hypertarget{_block_8c}{
\section{src/Object/Message/Block.c File Reference}
\label{_block_8c}\index{src/Object/Message/Block.c@{src/Object/Message/Block.c}}
}


This file defines a bitcoin block.  


{\ttfamily \#include \char`\"{}Block.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}assert.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}../ByteArray.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}ctype.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}../../Utils/VariableLengthInteger/VarLenInt.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Transaction.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}../../Utils/Cryptography/Crypt.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Message.h\char`\"{}}\par
Include dependency graph for Block.c:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_block}{Block} $\ast$ \hyperlink{_block_8c_a5cc6577390bc73738102896976ca10e8}{createNewBlock} (void($\ast$onErrorReceived)(\hyperlink{_constants_8h_a2c3e4bb40f36b262a5214e2da2bca9c5}{Error} error, char $\ast$,...))
\begin{DoxyCompactList}\small\item\em Creates a new \hyperlink{struct_block}{Block}. \end{DoxyCompactList}\item 
\hyperlink{struct_block}{Block} $\ast$ \hyperlink{_block_8c_a522ff05175c1944559e2001a51d8da90}{createNewBlockFromByteArray} (\hyperlink{struct_byte_array}{ByteArray} $\ast$info, void($\ast$onErrorReceived)(\hyperlink{_constants_8h_a2c3e4bb40f36b262a5214e2da2bca9c5}{Error} error, char $\ast$,...))
\begin{DoxyCompactList}\small\item\em Create a new \hyperlink{struct_block}{Block} from a given \hyperlink{struct_byte_array}{ByteArray} data. \end{DoxyCompactList}\item 
\hyperlink{struct_block}{Block} $\ast$ \hyperlink{_block_8c_a9f12323a1c19b0686bc1b64868a97dc9}{createNewBlockFromOriginalBlock} (void($\ast$onErrorReceived)(\hyperlink{_constants_8h_a2c3e4bb40f36b262a5214e2da2bca9c5}{Error} error, char $\ast$,...))
\begin{DoxyCompactList}\small\item\em Create a new \hyperlink{struct_block}{Block} from a default \hyperlink{struct_block}{Block}. \end{DoxyCompactList}\item 
\hyperlink{struct_block}{Block} $\ast$ \hyperlink{_block_8c_a57305c4b37f2dd85163c01c4e67ce49c}{getBlock} (void $\ast$block)
\begin{DoxyCompactList}\small\item\em get a block \hyperlink{struct_object}{Object} \end{DoxyCompactList}\item 
int \hyperlink{_block_8c_a71244768c12d6663e29898247e2b60bf}{initBlock} (\hyperlink{struct_block}{Block} $\ast$self, void($\ast$onErrorReceived)(\hyperlink{_constants_8h_a2c3e4bb40f36b262a5214e2da2bca9c5}{Error} error, char $\ast$,...))
\begin{DoxyCompactList}\small\item\em Initialize the \hyperlink{struct_block}{Block} from. \end{DoxyCompactList}\item 
int \hyperlink{_block_8c_a8b2caeb517b4b3e13e03abb7852f3742}{initBlockFromByteArray} (\hyperlink{struct_block}{Block} $\ast$self, \hyperlink{struct_byte_array}{ByteArray} $\ast$data, void($\ast$onErrorReceived)(\hyperlink{_constants_8h_a2c3e4bb40f36b262a5214e2da2bca9c5}{Error} error, char $\ast$,...))
\begin{DoxyCompactList}\small\item\em Initialize the \hyperlink{struct_block}{Block} from \hyperlink{struct_byte_array}{ByteArray}. \end{DoxyCompactList}\item 
int \hyperlink{_block_8c_af1b6c7c59cf5fd4c7d9f94a6179dcb43}{initBlockWithGenesisBlockInfo} (\hyperlink{struct_block}{Block} $\ast$self, void($\ast$onErrorReceived)(\hyperlink{_constants_8h_a2c3e4bb40f36b262a5214e2da2bca9c5}{Error} error, char $\ast$,...))
\item 
void \hyperlink{_block_8c_a8b1f80b3681ca6711f8746451d4d86d9}{deleteBlock} (void $\ast$selfCopy)
\begin{DoxyCompactList}\small\item\em Destroy the \hyperlink{struct_block}{Block}. \end{DoxyCompactList}\item 
void \hyperlink{_block_8c_a1dd38c9d32f6f6984930141d5ce01fba}{calculateBlockHash} (\hyperlink{struct_block}{Block} $\ast$self, uint8\_\-t $\ast$hash)
\begin{DoxyCompactList}\small\item\em Calculate the hash for a \hyperlink{struct_block}{Block}. \end{DoxyCompactList}\item 
uint32\_\-t \hyperlink{_block_8c_a396c1436f34175841933aa2b7cc102e8}{calculateBlockLength} (\hyperlink{struct_block}{Block} $\ast$self, int transactions)
\begin{DoxyCompactList}\small\item\em Calculate the length of \hyperlink{struct_block}{Block} that is needed to serialize the object. \end{DoxyCompactList}\item 
uint32\_\-t \hyperlink{_block_8c_a9dcdbbf01ad57512119aa46013c7f92e}{deserializeBlock} (\hyperlink{struct_block}{Block} $\ast$self, int transactions)
\begin{DoxyCompactList}\small\item\em Deserialize the \hyperlink{struct_block}{Block}. \end{DoxyCompactList}\item 
uint32\_\-t \hyperlink{_block_8c_a219df1f8f05a691f09e283731eb86129}{deserializeWithTransactions} (\hyperlink{struct_block}{Block} $\ast$self, \hyperlink{struct_byte_array}{ByteArray} $\ast$bytes)
\begin{DoxyCompactList}\small\item\em Deserialize With \hyperlink{struct_transaction}{Transaction}. \end{DoxyCompactList}\item 
uint32\_\-t \hyperlink{_block_8c_a2590af8eb87d088e41c0dfff66d41454}{deserializeWithOnlyHeaders} (\hyperlink{struct_block}{Block} $\ast$self, uint8\_\-t firstByte, \hyperlink{struct_byte_array}{ByteArray} $\ast$bytes)
\begin{DoxyCompactList}\small\item\em Deserialize With \hyperlink{struct_transaction}{Transaction}. \end{DoxyCompactList}\item 
uint8\_\-t $\ast$ \hyperlink{_block_8c_a33658833bce8e3470a0ac50e0eed406a}{getBlockHash} (\hyperlink{struct_block}{Block} $\ast$self)
\begin{DoxyCompactList}\small\item\em Get the hash of the \hyperlink{struct_block}{Block}. \end{DoxyCompactList}\item 
uint32\_\-t \hyperlink{_block_8c_ab0d1c25a8612a3644626e5030ffbe456}{serializeBlock} (\hyperlink{struct_block}{Block} $\ast$self, int transactions)
\begin{DoxyCompactList}\small\item\em Serializes a \hyperlink{struct_block}{Block} to the byte data. \end{DoxyCompactList}\item 
void \hyperlink{_block_8c_a4648ce410198b41749394a5c377ce73b}{dealWithSerializationHeader} (\hyperlink{struct_block}{Block} $\ast$self, \hyperlink{struct_byte_array}{ByteArray} $\ast$bytes)
\begin{DoxyCompactList}\small\item\em To deal with the header issue for serializeBlock. \end{DoxyCompactList}\item 
uint32\_\-t \hyperlink{_block_8c_aeb72d715416153dbd72e8f876fb19981}{dealWithSerializationTran} (\hyperlink{struct_block}{Block} $\ast$self, \hyperlink{struct_byte_array}{ByteArray} $\ast$bytes, uint32\_\-t cursor, int transactions)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This file defines a bitcoin block. Blocks contain transaction information and use a proof of work system to show that they are legitimate. 

Definition in file \hyperlink{_block_8c_source}{Block.c}.



\subsection{Function Documentation}
\hypertarget{_block_8c_a1dd38c9d32f6f6984930141d5ce01fba}{
\index{Block.c@{Block.c}!calculateBlockHash@{calculateBlockHash}}
\index{calculateBlockHash@{calculateBlockHash}!Block.c@{Block.c}}
\subsubsection[{calculateBlockHash}]{\setlength{\rightskip}{0pt plus 5cm}void calculateBlockHash (
\begin{DoxyParamCaption}
\item[{{\bf Block} $\ast$}]{self, }
\item[{uint8\_\-t $\ast$}]{hash}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a1dd38c9d32f6f6984930141d5ce01fba}


Calculate the hash for a \hyperlink{struct_block}{Block}. 

Calculates the hash for a block.


\begin{DoxyParams}{Parameters}
{\em self} & \\
\hline
{\em hash} & \\
\hline
{\em self} & The \hyperlink{struct_block}{Block} object. This should be serialized. \\
\hline
{\em The} & hash for the block to be set. This should be 32 bytes long. \\
\hline
\end{DoxyParams}


Definition at line 232 of file Block.c.



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=316pt]{_block_8c_a1dd38c9d32f6f6984930141d5ce01fba_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=298pt]{_block_8c_a1dd38c9d32f6f6984930141d5ce01fba_icgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_a396c1436f34175841933aa2b7cc102e8}{
\index{Block.c@{Block.c}!calculateBlockLength@{calculateBlockLength}}
\index{calculateBlockLength@{calculateBlockLength}!Block.c@{Block.c}}
\subsubsection[{calculateBlockLength}]{\setlength{\rightskip}{0pt plus 5cm}uint32\_\-t calculateBlockLength (
\begin{DoxyParamCaption}
\item[{{\bf Block} $\ast$}]{self, }
\item[{int}]{transactions}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a396c1436f34175841933aa2b7cc102e8}


Calculate the length of \hyperlink{struct_block}{Block} that is needed to serialize the object. 

Calculates the length needed to serialize the object.


\begin{DoxyParams}{Parameters}
{\em self} & \\
\hline
{\em transactions} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
blocklength
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em self} & The \hyperlink{struct_block}{Block} object. \\
\hline
{\em transactions} & If true, the full block, if not true just the header. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The length read on success, 0 on failure. 
\end{DoxyReturn}


$<$ calculate TransactinLength

$<$ Plus the stupid pointless null byte. 



Definition at line 248 of file Block.c.



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a396c1436f34175841933aa2b7cc102e8_cgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_a5cc6577390bc73738102896976ca10e8}{
\index{Block.c@{Block.c}!createNewBlock@{createNewBlock}}
\index{createNewBlock@{createNewBlock}!Block.c@{Block.c}}
\subsubsection[{createNewBlock}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Block} createNewBlock (
\begin{DoxyParamCaption}
\item[{void($\ast$)({\bf Error} error, char $\ast$,...)}]{onErrorReceived}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a5cc6577390bc73738102896976ca10e8}


Creates a new \hyperlink{struct_block}{Block}. 

\begin{DoxyReturn}{Returns}
\hyperlink{struct_block}{Block} 
\end{DoxyReturn}


$<$ created successfully

$<$ free the memory

$<$ created failed 



Definition at line 30 of file Block.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a5cc6577390bc73738102896976ca10e8_cgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_a522ff05175c1944559e2001a51d8da90}{
\index{Block.c@{Block.c}!createNewBlockFromByteArray@{createNewBlockFromByteArray}}
\index{createNewBlockFromByteArray@{createNewBlockFromByteArray}!Block.c@{Block.c}}
\subsubsection[{createNewBlockFromByteArray}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Block} createNewBlockFromByteArray (
\begin{DoxyParamCaption}
\item[{{\bf ByteArray} $\ast$}]{data, }
\item[{void($\ast$)({\bf Error} error, char $\ast$,...)}]{onErrorReceived}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a522ff05175c1944559e2001a51d8da90}


Create a new \hyperlink{struct_block}{Block} from a given \hyperlink{struct_byte_array}{ByteArray} data. 

Creates a new \hyperlink{struct_block}{Block}.


\begin{DoxyParams}{Parameters}
{\em info} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{struct_block}{Block}
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em data} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{struct_block}{Block} 
\end{DoxyReturn}


$<$ created successfully

$<$ free the memory

$<$ created failed 



Definition at line 58 of file Block.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a522ff05175c1944559e2001a51d8da90_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=398pt]{_block_8c_a522ff05175c1944559e2001a51d8da90_icgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_a9f12323a1c19b0686bc1b64868a97dc9}{
\index{Block.c@{Block.c}!createNewBlockFromOriginalBlock@{createNewBlockFromOriginalBlock}}
\index{createNewBlockFromOriginalBlock@{createNewBlockFromOriginalBlock}!Block.c@{Block.c}}
\subsubsection[{createNewBlockFromOriginalBlock}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Block} $\ast$ createNewBlockFromOriginalBlock (
\begin{DoxyParamCaption}
\item[{void($\ast$)({\bf Error} error, char $\ast$,...)}]{onErrorReceived}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a9f12323a1c19b0686bc1b64868a97dc9}


Create a new \hyperlink{struct_block}{Block} from a default \hyperlink{struct_block}{Block}. 

\begin{DoxyReturn}{Returns}
\hyperlink{struct_block}{Block} 
\end{DoxyReturn}


$<$ created successfully

$<$ free the memory

$<$ created failed 



Definition at line 84 of file Block.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a9f12323a1c19b0686bc1b64868a97dc9_cgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_a4648ce410198b41749394a5c377ce73b}{
\index{Block.c@{Block.c}!dealWithSerializationHeader@{dealWithSerializationHeader}}
\index{dealWithSerializationHeader@{dealWithSerializationHeader}!Block.c@{Block.c}}
\subsubsection[{dealWithSerializationHeader}]{\setlength{\rightskip}{0pt plus 5cm}void dealWithSerializationHeader (
\begin{DoxyParamCaption}
\item[{{\bf Block} $\ast$}]{self, }
\item[{{\bf ByteArray} $\ast$}]{bytes}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a4648ce410198b41749394a5c377ce73b}


To deal with the header issue for serializeBlock. 


\begin{DoxyParams}{Parameters}
{\em self} & The \hyperlink{struct_block}{Block} object \\
\hline
{\em bytes} & The \hyperlink{struct_byte_array}{ByteArray} \\
\hline
\end{DoxyParams}


Definition at line 481 of file Block.c.



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a4648ce410198b41749394a5c377ce73b_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a4648ce410198b41749394a5c377ce73b_icgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_aeb72d715416153dbd72e8f876fb19981}{
\index{Block.c@{Block.c}!dealWithSerializationTran@{dealWithSerializationTran}}
\index{dealWithSerializationTran@{dealWithSerializationTran}!Block.c@{Block.c}}
\subsubsection[{dealWithSerializationTran}]{\setlength{\rightskip}{0pt plus 5cm}uint32\_\-t dealWithSerializationTran (
\begin{DoxyParamCaption}
\item[{{\bf Block} $\ast$}]{self, }
\item[{{\bf ByteArray} $\ast$}]{bytes, }
\item[{uint32\_\-t}]{cursor, }
\item[{int}]{transactions}
\end{DoxyParamCaption}
)}}
\label{_block_8c_aeb72d715416153dbd72e8f876fb19981}
dealt with the transaction issue for serializeBlock. 
\begin{DoxyParams}{Parameters}
{\em self} & The \hyperlink{struct_block}{Block} object \\
\hline
{\em bytes} & The \hyperlink{struct_byte_array}{ByteArray} \\
\hline
{\em cursor} & The initial cursor \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The cursor 
\end{DoxyReturn}


$<$ Add null byte since there are to be no transactions (header only). 



Definition at line 499 of file Block.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_aeb72d715416153dbd72e8f876fb19981_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_aeb72d715416153dbd72e8f876fb19981_icgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_a8b1f80b3681ca6711f8746451d4d86d9}{
\index{Block.c@{Block.c}!deleteBlock@{deleteBlock}}
\index{deleteBlock@{deleteBlock}!Block.c@{Block.c}}
\subsubsection[{deleteBlock}]{\setlength{\rightskip}{0pt plus 5cm}void deleteBlock (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{vself}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a8b1f80b3681ca6711f8746451d4d86d9}


Destroy the \hyperlink{struct_block}{Block}. 

Frees a \hyperlink{struct_block}{Block} object.


\begin{DoxyParams}{Parameters}
{\em selfCopy} & \\
\hline
{\em self} & The \hyperlink{struct_block}{Block} object to free. \\
\hline
\end{DoxyParams}


$<$ Destroy the previous \hyperlink{struct_block}{Block} hash

Destroy transactions

$<$ Check for the loop since the transaction number can be set without having any transactions. 



Definition at line 197 of file Block.c.



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a8b1f80b3681ca6711f8746451d4d86d9_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a8b1f80b3681ca6711f8746451d4d86d9_icgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_a9dcdbbf01ad57512119aa46013c7f92e}{
\index{Block.c@{Block.c}!deserializeBlock@{deserializeBlock}}
\index{deserializeBlock@{deserializeBlock}!Block.c@{Block.c}}
\subsubsection[{deserializeBlock}]{\setlength{\rightskip}{0pt plus 5cm}uint32\_\-t deserializeBlock (
\begin{DoxyParamCaption}
\item[{{\bf Block} $\ast$}]{self, }
\item[{int}]{transactions}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a9dcdbbf01ad57512119aa46013c7f92e}


Deserialize the \hyperlink{struct_block}{Block}. 

Deserializes a \hyperlink{struct_block}{Block} so that it can be used as an object.


\begin{DoxyParams}{Parameters}
{\em self} & \\
\hline
{\em transactions} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em self} & The \hyperlink{struct_block}{Block} object \\
\hline
{\em transactions} & If true deserialize transactions. If false there do not deserialize for transactions. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The length read on success, 0 on failure. 
\end{DoxyReturn}


$<$ If first \hyperlink{struct_var_len_int}{VarLenInt} byte is zero, then stop here for headers, otherwise look for 8 more bytes and continue

$<$ Just header 



Definition at line 272 of file Block.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a9dcdbbf01ad57512119aa46013c7f92e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a9dcdbbf01ad57512119aa46013c7f92e_icgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_a2590af8eb87d088e41c0dfff66d41454}{
\index{Block.c@{Block.c}!deserializeWithOnlyHeaders@{deserializeWithOnlyHeaders}}
\index{deserializeWithOnlyHeaders@{deserializeWithOnlyHeaders}!Block.c@{Block.c}}
\subsubsection[{deserializeWithOnlyHeaders}]{\setlength{\rightskip}{0pt plus 5cm}uint32\_\-t deserializeWithOnlyHeaders (
\begin{DoxyParamCaption}
\item[{{\bf Block} $\ast$}]{self, }
\item[{uint8\_\-t}]{firstByte, }
\item[{{\bf ByteArray} $\ast$}]{bytes}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a2590af8eb87d088e41c0dfff66d41454}


Deserialize With \hyperlink{struct_transaction}{Transaction}. 


\begin{DoxyParams}{Parameters}
{\em self} & \\
\hline
{\em firstByte} & \\
\hline
{\em bytes} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0
\end{DoxyReturn}
@ breif deserialize \hyperlink{struct_block}{Block} only with headers @ param self The \hyperlink{struct_block}{Block} object @ param firstByte uint8\_\-t @ param bytes \hyperlink{struct_byte_array}{ByteArray} object @ The length read on success, o on failure. 

$<$ This value is undefined in the protocol. Should best be zero when getting the headers since there is not supposed to be any transactions. Would have probably been better if the var int was dropped completely for headers only.

$<$ Ensure null byte is null. This null byte is a bit of a nuissance but it exists in the protocol when there are no transactions.

$<$ 80 header bytes, the var int and the null byte 



Definition at line 394 of file Block.c.



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a2590af8eb87d088e41c0dfff66d41454_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a2590af8eb87d088e41c0dfff66d41454_icgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_a219df1f8f05a691f09e283731eb86129}{
\index{Block.c@{Block.c}!deserializeWithTransactions@{deserializeWithTransactions}}
\index{deserializeWithTransactions@{deserializeWithTransactions}!Block.c@{Block.c}}
\subsubsection[{deserializeWithTransactions}]{\setlength{\rightskip}{0pt plus 5cm}uint32\_\-t deserializeWithTransactions (
\begin{DoxyParamCaption}
\item[{{\bf Block} $\ast$}]{self, }
\item[{{\bf ByteArray} $\ast$}]{bytes}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a219df1f8f05a691f09e283731eb86129}


Deserialize With \hyperlink{struct_transaction}{Transaction}. 


\begin{DoxyParams}{Parameters}
{\em self} & \\
\hline
{\em bytes} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0
\end{DoxyReturn}
@ breif deserialize \hyperlink{struct_block}{Block} with transactions @ param self The \hyperlink{struct_block}{Block} object @ param bytes \hyperlink{struct_byte_array}{ByteArray} object @ The length read on success, o on failure. 

Definition at line 321 of file Block.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a219df1f8f05a691f09e283731eb86129_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a219df1f8f05a691f09e283731eb86129_icgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_a57305c4b37f2dd85163c01c4e67ce49c}{
\index{Block.c@{Block.c}!getBlock@{getBlock}}
\index{getBlock@{getBlock}!Block.c@{Block.c}}
\subsubsection[{getBlock}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Block} $\ast$ getBlock (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{self}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a57305c4b37f2dd85163c01c4e67ce49c}


get a block \hyperlink{struct_object}{Object} 

Gets a \hyperlink{struct_block}{Block} from another object. Use this to avoid casts.


\begin{DoxyParams}{Parameters}
{\em block} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{struct_block}{Block}
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em self} & The object to obtain the \hyperlink{struct_block}{Block} from. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The \hyperlink{struct_block}{Block} object. 
\end{DoxyReturn}


Definition at line 112 of file Block.c.

\hypertarget{_block_8c_a33658833bce8e3470a0ac50e0eed406a}{
\index{Block.c@{Block.c}!getBlockHash@{getBlockHash}}
\index{getBlockHash@{getBlockHash}!Block.c@{Block.c}}
\subsubsection[{getBlockHash}]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t $\ast$ getBlockHash (
\begin{DoxyParamCaption}
\item[{{\bf Block} $\ast$}]{self}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a33658833bce8e3470a0ac50e0eed406a}


Get the hash of the \hyperlink{struct_block}{Block}. 

Retrieves or calculates the hash for a block. Hashes taken from this function are cached.


\begin{DoxyParams}{Parameters}
{\em self} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
hash
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em self} & The \hyperlink{struct_block}{Block} object. This should be serialised. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The hash for the block. This is a 32 byte long, double SHA-\/256 hash and is a pointer to the hash field in the block. 
\end{DoxyReturn}


Definition at line 430 of file Block.c.



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a33658833bce8e3470a0ac50e0eed406a_cgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_a71244768c12d6663e29898247e2b60bf}{
\index{Block.c@{Block.c}!initBlock@{initBlock}}
\index{initBlock@{initBlock}!Block.c@{Block.c}}
\subsubsection[{initBlock}]{\setlength{\rightskip}{0pt plus 5cm}int initBlock (
\begin{DoxyParamCaption}
\item[{{\bf Block} $\ast$}]{self, }
\item[{void($\ast$)({\bf Error} error, char $\ast$,...)}]{onErrorReceived}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a71244768c12d6663e29898247e2b60bf}


Initialize the \hyperlink{struct_block}{Block} from. 


\begin{DoxyParams}{Parameters}
{\em self} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE or FALSE 
\end{DoxyReturn}


Definition at line 124 of file Block.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a71244768c12d6663e29898247e2b60bf_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=260pt]{_block_8c_a71244768c12d6663e29898247e2b60bf_icgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_a8b2caeb517b4b3e13e03abb7852f3742}{
\index{Block.c@{Block.c}!initBlockFromByteArray@{initBlockFromByteArray}}
\index{initBlockFromByteArray@{initBlockFromByteArray}!Block.c@{Block.c}}
\subsubsection[{initBlockFromByteArray}]{\setlength{\rightskip}{0pt plus 5cm}int initBlockFromByteArray (
\begin{DoxyParamCaption}
\item[{{\bf Block} $\ast$}]{self, }
\item[{{\bf ByteArray} $\ast$}]{data, }
\item[{void($\ast$)({\bf Error} error, char $\ast$,...)}]{onErrorReceived}
\end{DoxyParamCaption}
)}}
\label{_block_8c_a8b2caeb517b4b3e13e03abb7852f3742}


Initialize the \hyperlink{struct_block}{Block} from \hyperlink{struct_byte_array}{ByteArray}. 

Initializes a \hyperlink{struct_block}{Block} object from serialized data.


\begin{DoxyParams}{Parameters}
{\em self} & \\
\hline
{\em data} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE or FALSE
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em self} & The \hyperlink{struct_block}{Block} object to initialize \\
\hline
{\em data} & The serialized data. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true on success, false on failure. 
\end{DoxyReturn}


Definition at line 148 of file Block.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a8b2caeb517b4b3e13e03abb7852f3742_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_a8b2caeb517b4b3e13e03abb7852f3742_icgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_af1b6c7c59cf5fd4c7d9f94a6179dcb43}{
\index{Block.c@{Block.c}!initBlockWithGenesisBlockInfo@{initBlockWithGenesisBlockInfo}}
\index{initBlockWithGenesisBlockInfo@{initBlockWithGenesisBlockInfo}!Block.c@{Block.c}}
\subsubsection[{initBlockWithGenesisBlockInfo}]{\setlength{\rightskip}{0pt plus 5cm}int initBlockWithGenesisBlockInfo (
\begin{DoxyParamCaption}
\item[{{\bf Block} $\ast$}]{self, }
\item[{void($\ast$)({\bf Error} error, char $\ast$,...)}]{onErrorReceived}
\end{DoxyParamCaption}
)}}
\label{_block_8c_af1b6c7c59cf5fd4c7d9f94a6179dcb43}


$<$ Decrease the count of the \hyperlink{struct_byte_array}{ByteArray} data

$<$ Decrease the count of the hash

$<$ Decrease the count of the \hyperlink{struct_byte_array}{ByteArray} data

$<$ Deserialize the \hyperlink{struct_block}{Block} so that it can be used as an object 



Definition at line 170 of file Block.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_af1b6c7c59cf5fd4c7d9f94a6179dcb43_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_af1b6c7c59cf5fd4c7d9f94a6179dcb43_icgraph}
\end{center}
\end{figure}


\hypertarget{_block_8c_ab0d1c25a8612a3644626e5030ffbe456}{
\index{Block.c@{Block.c}!serializeBlock@{serializeBlock}}
\index{serializeBlock@{serializeBlock}!Block.c@{Block.c}}
\subsubsection[{serializeBlock}]{\setlength{\rightskip}{0pt plus 5cm}uint32\_\-t serializeBlock (
\begin{DoxyParamCaption}
\item[{{\bf Block} $\ast$}]{self, }
\item[{int}]{transactions}
\end{DoxyParamCaption}
)}}
\label{_block_8c_ab0d1c25a8612a3644626e5030ffbe456}


Serializes a \hyperlink{struct_block}{Block} to the byte data. 


\begin{DoxyParams}{Parameters}
{\em self} & The \hyperlink{struct_block}{Block} object \\
\hline
{\em transactions} & If true serialize transactions. If false there do not serialize for transactions. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The length read on success, 0 on failure. 
\end{DoxyReturn}


$<$ Deal with the Transactions 



Definition at line 444 of file Block.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{_block_8c_ab0d1c25a8612a3644626e5030ffbe456_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{_block_8c_ab0d1c25a8612a3644626e5030ffbe456_icgraph}
\end{center}
\end{figure}


