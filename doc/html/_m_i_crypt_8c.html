<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Bitcoin: src/Utils/Cryptography/MICrypt.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bitcoin&#160;<span id="projectnumber">1.0</span></div>
   <div id="projectbrief">Bitcoin port</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">src/Utils/Cryptography/MICrypt.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_m_i_crypt_8h_source.html">MICrypt.h</a>&quot;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;openssl/sha.h&gt;</code><br/>
<code>#include &lt;openssl/ripemd.h&gt;</code><br/>
<code>#include &lt;openssl/ssl.h&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for MICrypt.c:</div>
<div class="dyncontent">
<div class="center"><img src="_m_i_crypt_8c__incl.png" border="0" usemap="#src_2_utils_2_cryptography_2_m_i_crypt_8c" alt=""/></div>
<map name="src_2_utils_2_cryptography_2_m_i_crypt_8c" id="src_2_utils_2_cryptography_2_m_i_crypt_8c">
<area shape="rect" id="node3" href="_m_i_crypt_8h.html" title="MICrypt.h" alt="" coords="91,83,171,112"/></map>
</div>
</div>
<p><a href="_m_i_crypt_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_i_crypt_8c.html#ab8edb068b6d3da347a870e8b5e8ebdc6">MISha160</a> (uint8_t *data, uint16_t len, uint8_t *output)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">SHA-1 cryptographic hash function.  <a href="#ab8edb068b6d3da347a870e8b5e8ebdc6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_i_crypt_8c.html#ab62ec3041775f1d56093fa4096c2ef84">MISha256</a> (uint8_t *data, uint16_t len, uint8_t *output)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">SHA-256 cryptographic hash function.  <a href="#ab62ec3041775f1d56093fa4096c2ef84"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_i_crypt_8c.html#a32610a7ca9cf7b5aa163cc645564bab9">MIRipemd160</a> (uint8_t *data, uint16_t len, uint8_t *output)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">RIPEMD-160 cryptographic hash function.  <a href="#a32610a7ca9cf7b5aa163cc645564bab9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_i_crypt_8c.html#a1daf3c15d36f5663956cff4d3ce1e1d4">MIECDSAVerify</a> (uint8_t *signature, uint8_t signatureLen, uint8_t *hash, const uint8_t *pubKey, uint8_t keyLen)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies an ECDSA signature. This function must stick to the cryptography requirements in OpenSSL version 1.0.0 or any other compatible version. There may be compatibility problems when using libraries or code other than OpenSSL since OpenSSL does not adhere fully to the SEC1 ECDSA standards. This could cause security problems in your code. If in doubt, stick to OpenSSL.  <a href="#a1daf3c15d36f5663956cff4d3ce1e1d4"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a1daf3c15d36f5663956cff4d3ce1e1d4"></a><!-- doxytag: member="MICrypt.c::MIECDSAVerify" ref="a1daf3c15d36f5663956cff4d3ce1e1d4" args="(uint8_t *signature, uint8_t signatureLen, uint8_t *hash, const uint8_t *pubKey, uint8_t keyLen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MIECDSAVerify </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>signature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>signatureLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pubKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>keyLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Verifies an ECDSA signature. This function must stick to the cryptography requirements in OpenSSL version 1.0.0 or any other compatible version. There may be compatibility problems when using libraries or code other than OpenSSL since OpenSSL does not adhere fully to the SEC1 ECDSA standards. This could cause security problems in your code. If in doubt, stick to OpenSSL. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>BER encoded signature bytes. </td></tr>
    <tr><td class="paramname">signatureLen</td><td>The length of the signature bytes. </td></tr>
    <tr><td class="paramname">hash</td><td>A 32 byte hash for checking the signature against. </td></tr>
    <tr><td class="paramname">pubKey</td><td>Public key bytes to check this signature with. </td></tr>
    <tr><td class="paramname">keyLen</td><td>The length of the public key bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the signature is valid and false if invalid. </dd></dl>

<p>Definition at line <a class="el" href="_m_i_crypt_8c_source.html#l00060">60</a> of file <a class="el" href="_m_i_crypt_8c_source.html">MICrypt.c</a>.</p>

</div>
</div>
<a class="anchor" id="a32610a7ca9cf7b5aa163cc645564bab9"></a><!-- doxytag: member="MICrypt.c::MIRipemd160" ref="a32610a7ca9cf7b5aa163cc645564bab9" args="(uint8_t *data, uint16_t len, uint8_t *output)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MIRipemd160 </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>RIPEMD-160 cryptographic hash function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A pointer to the byte data to hash. </td></tr>
    <tr><td class="paramname">length</td><td>The length of the data to hash. </td></tr>
    <tr><td class="paramname">output</td><td>A pointer to hold a 20-byte hash. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_m_i_crypt_8c_source.html#l00051">51</a> of file <a class="el" href="_m_i_crypt_8c_source.html">MICrypt.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab8edb068b6d3da347a870e8b5e8ebdc6"></a><!-- doxytag: member="MICrypt.c::MISha160" ref="ab8edb068b6d3da347a870e8b5e8ebdc6" args="(uint8_t *data, uint16_t len, uint8_t *output)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MISha160 </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SHA-1 cryptographic hash function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A pointer to the byte data to hash. </td></tr>
    <tr><td class="paramname">length</td><td>The length of the data to hash. </td></tr>
    <tr><td class="paramname">output</td><td>A pointer to hold a 10-byte hash. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_m_i_crypt_8c_source.html#l00034">34</a> of file <a class="el" href="_m_i_crypt_8c_source.html">MICrypt.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab62ec3041775f1d56093fa4096c2ef84"></a><!-- doxytag: member="MICrypt.c::MISha256" ref="ab62ec3041775f1d56093fa4096c2ef84" args="(uint8_t *data, uint16_t len, uint8_t *output)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MISha256 </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SHA-256 cryptographic hash function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A pointer to the byte data to hash. </td></tr>
    <tr><td class="paramname">length</td><td>The length of the data to hash. </td></tr>
    <tr><td class="paramname">output</td><td>A pointer to hold a 32-byte hash. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_m_i_crypt_8c_source.html#l00042">42</a> of file <a class="el" href="_m_i_crypt_8c_source.html">MICrypt.c</a>.</p>

</div>
</div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 15 2012 22:55:15 for Bitcoin by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
