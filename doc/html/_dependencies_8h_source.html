<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Bitcoin: src/Dependencies.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bitcoin&#160;<span id="projectnumber">1.0</span></div>
   <div id="projectbrief">Bitcoin port</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Dependencies.h</div>  </div>
</div>
<div class="contents">
<a href="_dependencies_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//</span>
<a name="l00002"></a>00002 <span class="comment">//  Dependencies.h</span>
<a name="l00003"></a>00003 <span class="comment">//  itcoin</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">//  Created by Matthew Mitchell on 15/05/2012.</span>
<a name="l00006"></a>00006 <span class="comment">//  Copyright (c) 2012 Matthew Mitchell</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">//  This file is part of itcoin.</span>
<a name="l00009"></a>00009 <span class="comment">//</span>
<a name="l00010"></a>00010 <span class="comment">//  itcoin is free software: you can redistribute it and/or modify</span>
<a name="l00011"></a>00011 <span class="comment">//  it under the terms of the GNU General Public License as published by</span>
<a name="l00012"></a>00012 <span class="comment">//  the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00013"></a>00013 <span class="comment">//  (at your option) any later version.</span>
<a name="l00014"></a>00014 <span class="comment">//</span>
<a name="l00015"></a>00015 <span class="comment">//  itcoin is distributed in the hope that it will be useful,</span>
<a name="l00016"></a>00016 <span class="comment">//  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00017"></a>00017 <span class="comment">//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00018"></a>00018 <span class="comment">//  GNU General Public License for more details.</span>
<a name="l00019"></a>00019 <span class="comment">//</span>
<a name="l00020"></a>00020 <span class="comment">//  You should have received a copy of the GNU General Public License</span>
<a name="l00021"></a>00021 <span class="comment">//  along with itcoin.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00022"></a>00022 
<a name="l00028"></a>00028 <span class="preprocessor">#ifndef DEPENDENCIESH</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">#define DEPENDENCIESH</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="_constants_8h.html">Constants.h</a>&quot;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="comment">// Use weak linking so these functions can be implemented outside of the library.</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="comment">// Weak linking for cryptographic functions.</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="preprocessor">#pragma weak Sha256</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span><span class="preprocessor">#pragma weak Ripemd160</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span><span class="preprocessor">#pragma weak Sha160</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#pragma weak EcdsaVerify</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00044"></a>00044 <span class="comment">// Weak linking for networking functions.</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="preprocessor">#pragma weak NewSocket</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketBind</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketConnect</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketListen</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketAccept</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">#pragma weak NewEventLoop</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketCanAcceptEvent</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketDidConnectEvent</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketCanSendEvent</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketCanReceiveEvent</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketAddEvent</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketRemoveEvent</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketFreeEvent</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketSend</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SocketReceive</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span><span class="preprocessor">#pragma weak StartTimer</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span><span class="preprocessor">#pragma weak EndTimer</span>
<a name="l00063"></a>00063 <span class="preprocessor"></span><span class="preprocessor">#pragma weak CloseSocket</span>
<a name="l00064"></a>00064 <span class="preprocessor"></span><span class="preprocessor">#pragma weak ExitEventLoop</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span>
<a name="l00066"></a>00066 <span class="comment">// Weak linking for random number generation functions.</span>
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="preprocessor">#pragma weak NewSecureRandomGenerator</span>
<a name="l00069"></a>00069 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SecureRandomSeed</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span><span class="preprocessor">#pragma weak RandomSeed</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span><span class="preprocessor">#pragma weak SecureRandomInteger</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span><span class="preprocessor">#pragma weak FreeSecureRandomGenerator</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span>
<a name="l00074"></a>00074 <span class="comment">// CRYPTOGRAPHIC DEPENDENCIES</span>
<a name="l00075"></a>00075 
<a name="l00082"></a>00082 <span class="keywordtype">void</span> <a class="code" href="_dependencies_8h.html#ac8d904e99d5833b896736a76b27da0b9" title="SHA-256 cryptographic hash function.">Sha256</a>(uint8_t * data,uint16_t length,uint8_t * output);
<a name="l00089"></a>00089 <span class="keywordtype">void</span> <a class="code" href="_dependencies_8h.html#afc4c3de28fcd3d122636259977f3029c" title="RIPEMD-160 cryptographic hash function.">Ripemd160</a>(uint8_t * data,uint16_t length,uint8_t * output);
<a name="l00096"></a>00096 <span class="keywordtype">void</span> <a class="code" href="_dependencies_8h.html#a5a496b8ef882d805eccedfa308f29a48" title="SHA-1 cryptographic hash function.">Sha160</a>(uint8_t * data,uint16_t length,uint8_t * output);
<a name="l00106"></a>00106 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#a02ed88c025f0b88dbc8a4aec268a3afe" title="Verifies an ECDSA signature. This function must stick to the cryptography requirements in OpenSSL ver...">EcdsaVerify</a>(uint8_t * signature,uint8_t sigLen,uint8_t * hash,<span class="keyword">const</span> uint8_t * pubKey,uint8_t keyLen);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="comment">// NETWORKING DEPENDENCIES</span>
<a name="l00109"></a>00109 
<a name="l00116"></a>00116 SocketReturn <a class="code" href="_dependencies_8h.html#abbc3b6a1bc7284cdb7eecbc2fc8170c1" title="Creates a new TCP/IP socket. The socket should use a non-blocking mode.">NewSocket</a>(uint64_t * socketID,<span class="keywordtype">int</span> IPv6);
<a name="l00117"></a>00117 <span class="comment">/*</span>
<a name="l00118"></a>00118 <span class="comment"> @brief Binds the host machine and a port number to a new socket.</span>
<a name="l00119"></a>00119 <span class="comment"> @param socketID The socket id to set to the new socket.</span>
<a name="l00120"></a>00120 <span class="comment"> @param IPv6 true if we are binding a socket for the IPv6 network.</span>
<a name="l00121"></a>00121 <span class="comment"> @param port The port to bind to.</span>
<a name="l00122"></a>00122 <span class="comment"> @returns true if the bind was sucessful and false otherwise.</span>
<a name="l00123"></a>00123 <span class="comment"> */</span>
<a name="l00124"></a>00124 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#a2a0f9e343e2230ff956da5cc121314f6">SocketBind</a>(uint64_t * socketID,<span class="keywordtype">int</span> IPv6,uint16_t port);
<a name="l00133"></a>00133 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#ac12fb121981627704e01d8e80c1c8039" title="Begin connecting to an external host with a socket. This should be non-blocking.">SocketConnect</a>(uint64_t socketID,uint8_t * IP,<span class="keywordtype">int</span> IPv6,uint16_t port);
<a name="l00140"></a>00140 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#a4febf2cf5ef84322b6295a3e391d15d7" title="Begin listening for incomming connections on a bound socket. This should be non-blocking.">SocketListen</a>(uint64_t socketID,uint16_t maxConnections);
<a name="l00147"></a>00147 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#aeaf4fe44e55376f10009d0e4863295b5" title="Accepts an incomming IPv4 connection on a bound socket. This should be non-blocking.">SocketAccept</a>(uint64_t socketID,uint64_t * connectionSocketID);
<a name="l00156"></a>00156 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#ab41740ec6ee6ba4124b44095e751bdb3" title="Starts a event loop for socket onErrorReceived on a seperate thread. Access to the loop id should be ...">NewEventLoop</a>(uint64_t * loopID,<span class="keywordtype">void</span> (*onError)(<span class="keywordtype">void</span> *),<span class="keywordtype">void</span> (*onDidTimeout)(<span class="keywordtype">void</span> *,<span class="keywordtype">void</span> *,TimeOutType),<span class="keywordtype">void</span> * communicator);
<a name="l00164"></a>00164 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#adb5da0eddf7a2b7b83b9fa8569eae737" title="Creates an event where a listening socket is available for accepting a connection. The event should be persistent and not issue timeouts.">SocketCanAcceptEvent</a>(uint64_t * eventID,uint64_t loopID,uint64_t socketID,<span class="keywordtype">void</span> (*onCanAccept)(<span class="keywordtype">void</span> *,uint64_t));
<a name="l00173"></a>00173 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#a6c590c239497b83734a144f206907faf" title="Sets a function pointer for the event where a socket has connected. The event only needs to fire once...">SocketDidConnectEvent</a>(uint64_t * eventID,uint64_t loopID,uint64_t socketID,<span class="keywordtype">void</span> (*onDidConnect)(<span class="keywordtype">void</span> *,<span class="keywordtype">void</span> *),<span class="keywordtype">void</span> * peer);
<a name="l00182"></a>00182 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#aaa8b848ed666e9a9d32615047609a34f" title="Sets a function pointer for the event where a socket is available for sending data. This should be persistent.">SocketCanSendEvent</a>(uint64_t * eventID,uint64_t loopID,uint64_t socketID,<span class="keywordtype">void</span> (*onCanSend)(<span class="keywordtype">void</span> *,<span class="keywordtype">void</span> *),<span class="keywordtype">void</span> * peer);
<a name="l00191"></a>00191 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#a415c2c7980a314c65a01eef32e14c7ff" title="Sets a function pointer for the event where a socket is available for receiving data. This should be persistent.">SocketCanReceiveEvent</a>(uint64_t * eventID,uint64_t loopID,uint64_t socketID,<span class="keywordtype">void</span> (*onCanReceive)(<span class="keywordtype">void</span> *,<span class="keywordtype">void</span> *),<span class="keywordtype">void</span> * peer);
<a name="l00198"></a>00198 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#a1311c01201d68c2045bc5962b63a2e90" title="Adds an event to be pending.">SocketAddEvent</a>(uint64_t eventID,uint32_t timeout);
<a name="l00204"></a>00204 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#a5c21b4cfc0706a759f2634335300aae1" title="Removes an event so no more onErrorReceived are made.">SocketRemoveEvent</a>(uint64_t eventID);
<a name="l00209"></a>00209 <span class="keywordtype">void</span> <a class="code" href="_dependencies_8h.html#a882189cc4cf9e761c6b0e7028d307dfd" title="Makes an event non-pending and frees it.">SocketFreeEvent</a>(uint64_t eventID);
<a name="l00217"></a>00217 int32_t <a class="code" href="_dependencies_8h.html#a9cdaba7b59ae8b6fbf1c17147bc6ad49" title="Sends data to a socket. This should be non-blocking.">SocketSend</a>(uint64_t socketID,uint8_t * data,uint32_t len);
<a name="l00225"></a>00225 int32_t <a class="code" href="_dependencies_8h.html#af7c759dd8dfe7ab9aae2c337cb616a5a" title="Receives data from a socket. This should be non-blocking.">SocketReceive</a>(uint64_t socketID,uint8_t * data,uint32_t len);
<a name="l00234"></a>00234 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#a1bd67bc870070326a584a33e29a55057" title="Calls a callback every &quot;time&quot; seconds, until the timer is ended.">StartTimer</a>(uint64_t loopID,uint64_t * timer,uint16_t time,<span class="keywordtype">void</span> (*callback)(<span class="keywordtype">void</span> *),<span class="keywordtype">void</span> * arg);
<a name="l00239"></a>00239 <span class="keywordtype">void</span> <a class="code" href="_dependencies_8h.html#a8e0f7d4bdd499eea2b47b67542cdb392" title="Ends a timer.">EndTimer</a>(uint64_t timer);
<a name="l00244"></a>00244 <span class="keywordtype">void</span> <a class="code" href="_dependencies_8h.html#a71406297a3fd81f754021523706a2faf" title="Closes a socket. The id should be freed, as well as any other data relating to this socket...">CloseSocket</a>(uint64_t socketID);
<a name="l00249"></a>00249 <span class="keywordtype">void</span> <a class="code" href="_dependencies_8h.html#adcc8dc300d098d6fd7f2db15fbae56ec" title="Exits an event loop and frees all data relating to it.">ExitEventLoop</a>(uint64_t loopID);
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 <span class="comment">// RANDOM DEPENDENCIES</span>
<a name="l00252"></a>00252 
<a name="l00258"></a>00258 <span class="keywordtype">int</span> <a class="code" href="_dependencies_8h.html#afebd5f796779f2c7335d8476ed2d0997" title="Returns an instance of a cryptographically secure random number generator.">NewSecureRandomGenerator</a>(uint64_t * gen);
<a name="l00263"></a>00263 <span class="keywordtype">void</span> <a class="code" href="_dependencies_8h.html#a6a0eec9608c896c6ffd20cfca2bf683b" title="Seeds the random number generator securely.">SecureRandomSeed</a>(uint64_t gen);
<a name="l00269"></a>00269 <span class="keywordtype">void</span> <a class="code" href="_dependencies_8h.html#a2f687145a9bee62dabc7a344a7ca9f2e" title="Seeds the generator from a 64-bit integer.">RandomSeed</a>(uint64_t gen,uint64_t seed);
<a name="l00275"></a>00275 uint64_t <a class="code" href="_dependencies_8h.html#ae654eaeec3513d33e2b988f902924413" title="Generates a 64 bit integer.">SecureRandomInteger</a>(uint64_t gen);
<a name="l00280"></a>00280 <span class="keywordtype">void</span> <a class="code" href="_dependencies_8h.html#af30a1c6f1f96b742f1f9e58aeafa5178" title="Frees the random number generator.">FreeSecureRandomGenerator</a>(uint64_t gen);
<a name="l00281"></a>00281 
<a name="l00282"></a>00282 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Oct 17 2012 12:24:00 for Bitcoin by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
