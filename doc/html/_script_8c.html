<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Bitcoin: src/Object/Script.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bitcoin&#160;<span id="projectnumber">1.0</span></div>
   <div id="projectbrief">Bitcoin port</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_script_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">src/Object/Script.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="_script_8h_source.html">Script.h</a>&quot;</code><br/>
<code>#include &quot;../Utils/Cryptography/Crypt.h&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Script.c:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c__incl.png" border="0" usemap="#src_2_object_2_script_8c" alt=""/></div>
<map name="src_2_object_2_script_8c" id="src_2_object_2_script_8c">
<area shape="rect" id="node5" href="_script_8h.html" title="Script.h" alt="" coords="304,83,371,112"/><area shape="rect" id="node7" href="_byte_array_8h.html" title="ByteArray.h" alt="" coords="177,160,268,189"/><area shape="rect" id="node9" href="_object_8h.html" title="Basic object which serves as a basic block for all other objects in the system." alt="" coords="156,237,225,267"/></map>
</div>
</div>
<p><a href="_script_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_byte_array.html">Script</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#a31a3d8cdecb826da19038679922570d6">createNewScriptFromReference</a> (<a class="el" href="struct_byte_array.html">ByteArray</a> *program, uint32_t offset, uint32_t len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new Script object.  <a href="#a31a3d8cdecb826da19038679922570d6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_script_stack.html">ScriptStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#ad6a383832d77f52a4910c2b7d737d326">createEmptyScriptStack</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new empty scriptstack.  <a href="#ad6a383832d77f52a4910c2b7d737d326"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#ae63afad4294e52303b66f910fda58525">isP2SHScript</a> (<a class="el" href="struct_byte_array.html">Script</a> *self)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if a script object matches the P2SH template; i.e. BIP 0016 see <a href="https://en.bitcoin.it/wiki/BIP_0016.">https://en.bitcoin.it/wiki/BIP_0016.</a>  <a href="#ae63afad4294e52303b66f910fda58525"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#aa2df10dc8c05ec7340c2f22381dde313">copyByteVectorFromScriptStack</a> (<a class="el" href="struct_script_stack.html">ScriptStack</a> *stack, uint8_t fromTop)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a copy of a stack item, "fromTop" from the top.  <a href="#aa2df10dc8c05ec7340c2f22381dde313"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#a42109fe30e56a4ca86d2bf70a3d08ee1">pushScriptByteVectorOntoScriptStack</a> (<a class="el" href="struct_script_stack.html">ScriptStack</a> *stack, <a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a> byteVector)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Push a <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> item onto the stack which is freed by the stack.  <a href="#a42109fe30e56a4ca86d2bf70a3d08ee1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#a2c8040a862763eac525a2907846aa70d">topElementEvaluatesToTrue</a> (<a class="el" href="struct_script_stack.html">ScriptStack</a> *stack)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates the top <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> on a <a class="el" href="struct_script_stack.html" title="Structure that holds byte vector data in a stack.">ScriptStack</a> as a boolean. False if 0 or -0.  <a href="#a2c8040a862763eac525a2907846aa70d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#a2192430534274747a5b711b19261e4fe">removeElementFromStack</a> (<a class="el" href="struct_script_stack.html">ScriptStack</a> *stack)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes top <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> from the stack.  <a href="#a2192430534274747a5b711b19261e4fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#a230165cbcd191bbb3830aebaa18a2719">popElementFromStack</a> (<a class="el" href="struct_script_stack.html">ScriptStack</a> *stack)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Pops the top <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> off the <a class="el" href="struct_script_stack.html" title="Structure that holds byte vector data in a stack.">ScriptStack</a>.  <a href="#a230165cbcd191bbb3830aebaa18a2719"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#ad73ed8795ecc28c1967ef9a3a618b3c1">convertInt64ToScriptByteVector</a> (<a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a> byteVector, int64_t int64)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a int64_t into a <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a>.  <a href="#ad73ed8795ecc28c1967ef9a3a618b3c1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#a05e400cb6322e101e8e6a3ebafed022d">convertScriptByteVectorToInt64</a> (<a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a> byteVector)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> to a 64 bit signed integer.  <a href="#a05e400cb6322e101e8e6a3ebafed022d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#a8d0dbc84be887aa4d67eb2bfafbf458b">removeSignatureFromStackScript</a> (uint8_t *subScript, uint32_t *subScriptLen, <a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a> signature)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes occurrences of a signature from script data.  <a href="#a8d0dbc84be887aa4d67eb2bfafbf458b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_byte_array.html">Script</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#acb39fe4d41a3f92781bb5adcbae79033">createNewScriptStackFromData</a> (uint8_t *data, uint32_t size, void(*<a class="el" href="_network_communicator_8c.html#a274a1668db621d346da002d3024d30b3">onErrorReceived</a>)(<a class="el" href="_constants_8h.html#a2c3e4bb40f36b262a5214e2da2bca9c5">Error</a> error, char *,...))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new Script using data.  <a href="#acb39fe4d41a3f92781bb5adcbae79033"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_byte_array.html">Script</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#a7da0d327f61176d21e35c3c88462a48b">createNewScriptStackUsingCopyOfData</a> (uint8_t *data, uint32_t size, void(*<a class="el" href="_network_communicator_8c.html#a274a1668db621d346da002d3024d30b3">onErrorReceived</a>)(<a class="el" href="_constants_8h.html#a2c3e4bb40f36b262a5214e2da2bca9c5">Error</a> error, char *,...))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new Script using a copy of data.  <a href="#a7da0d327f61176d21e35c3c88462a48b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_constants_8h.html#a5bdbd094ca1cda7631026bcf5b883620">ScriptExecutionStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_script_8c.html#aec9ea0bb8f3fca33afcbda7630d723b2">executeScript</a> (<a class="el" href="struct_byte_array.html">Script</a> *script, <a class="el" href="struct_script_stack.html">ScriptStack</a> *stack, <a class="el" href="_constants_8h.html#afe32e161e878b8e5ddb8ed32907ad826">TransactionHashStatus</a>(*getTransactionInputHashForVerification)(void *, <a class="el" href="struct_byte_array.html">ByteArray</a> *, uint32_t, <a class="el" href="_constants_8h.html#a7456a1be27da2089f984a0ede62c6c50">SignatureType</a>, uint8_t *), void *transaction, uint32_t inputIndex, int p2sh)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a bitcoin script.  <a href="#aec9ea0bb8f3fca33afcbda7630d723b2"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ad73ed8795ecc28c1967ef9a3a618b3c1"></a><!-- doxytag: member="Script.c::convertInt64ToScriptByteVector" ref="ad73ed8795ecc28c1967ef9a3a618b3c1" args="(ScriptByteVector byteVector, int64_t int64)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a> convertInt64ToScriptByteVector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a>&#160;</td>
          <td class="paramname"><em>byteVector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>int64</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts a int64_t into a <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">byteVector</td><td>Pass in a <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> for reallocating data. </td></tr>
    <tr><td class="paramname">int64</td><td>The 64 bit signed integer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a>. </dd></dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00130">130</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_ad73ed8795ecc28c1967ef9a3a618b3c1_icgraph.png" border="0" usemap="#_script_8c_ad73ed8795ecc28c1967ef9a3a618b3c1_icgraph" alt=""/></div>
<map name="_script_8c_ad73ed8795ecc28c1967ef9a3a618b3c1_icgraph" id="_script_8c_ad73ed8795ecc28c1967ef9a3a618b3c1_icgraph">
<area shape="rect" id="node3" href="_script_8h.html#acd97590583a26ab99944ec9e2217d879" title="Executes a bitcoin script." alt="" coords="263,29,364,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a05e400cb6322e101e8e6a3ebafed022d"></a><!-- doxytag: member="Script.c::convertScriptByteVectorToInt64" ref="a05e400cb6322e101e8e6a3ebafed022d" args="(ScriptByteVector byteVector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t convertScriptByteVectorToInt64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a>&#160;</td>
          <td class="paramname"><em>byteVector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts a <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> to a 64 bit signed integer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">item</td><td>The <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A 64 bit signed integer. </dd></dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00191">191</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_a05e400cb6322e101e8e6a3ebafed022d_icgraph.png" border="0" usemap="#_script_8c_a05e400cb6322e101e8e6a3ebafed022d_icgraph" alt=""/></div>
<map name="_script_8c_a05e400cb6322e101e8e6a3ebafed022d_icgraph" id="_script_8c_a05e400cb6322e101e8e6a3ebafed022d_icgraph">
<area shape="rect" id="node3" href="_script_8h.html#acd97590583a26ab99944ec9e2217d879" title="Executes a bitcoin script." alt="" coords="263,29,364,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa2df10dc8c05ec7340c2f22381dde313"></a><!-- doxytag: member="Script.c::copyByteVectorFromScriptStack" ref="aa2df10dc8c05ec7340c2f22381dde313" args="(ScriptStack *stack, uint8_t fromTop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a> copyByteVectorFromScriptStack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_script_stack.html">ScriptStack</a> *&#160;</td>
          <td class="paramname"><em>stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>fromTop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a copy of a stack item, "fromTop" from the top. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stack</td><td>A pointer to the stack. </td></tr>
    <tr><td class="paramname">fromTop</td><td>Number of items from the top to copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A copy of the stack item which should be freed. </dd></dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00044">44</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_aa2df10dc8c05ec7340c2f22381dde313_icgraph.png" border="0" usemap="#_script_8c_aa2df10dc8c05ec7340c2f22381dde313_icgraph" alt=""/></div>
<map name="_script_8c_aa2df10dc8c05ec7340c2f22381dde313_icgraph" id="_script_8c_aa2df10dc8c05ec7340c2f22381dde313_icgraph">
<area shape="rect" id="node3" href="_script_8h.html#acd97590583a26ab99944ec9e2217d879" title="Executes a bitcoin script." alt="" coords="268,29,369,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad6a383832d77f52a4910c2b7d737d326"></a><!-- doxytag: member="Script.c::createEmptyScriptStack" ref="ad6a383832d77f52a4910c2b7d737d326" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_script_stack.html">ScriptStack</a> createEmptyScriptStack </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a new empty scriptstack. </p>
<p>A script is a array of bytes </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The new empty stack. </dd></dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00025">25</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_ad6a383832d77f52a4910c2b7d737d326_icgraph.png" border="0" usemap="#_script_8c_ad6a383832d77f52a4910c2b7d737d326_icgraph" alt=""/></div>
<map name="_script_8c_ad6a383832d77f52a4910c2b7d737d326_icgraph" id="_script_8c_ad6a383832d77f52a4910c2b7d737d326_icgraph">
<area shape="rect" id="node3" href="_script_8h.html#acd97590583a26ab99944ec9e2217d879" title="Executes a bitcoin script." alt="" coords="220,29,321,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a31a3d8cdecb826da19038679922570d6"></a><!-- doxytag: member="Script.c::createNewScriptFromReference" ref="a31a3d8cdecb826da19038679922570d6" args="(ByteArray *program, uint32_t offset, uint32_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_byte_array.html">Script</a>* createNewScriptFromReference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_byte_array.html">ByteArray</a> *&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new Script object. </p>
<p>Constructor </p>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00016">16</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_a31a3d8cdecb826da19038679922570d6_cgraph.png" border="0" usemap="#_script_8c_a31a3d8cdecb826da19038679922570d6_cgraph" alt=""/></div>
<map name="_script_8c_a31a3d8cdecb826da19038679922570d6_cgraph" id="_script_8c_a31a3d8cdecb826da19038679922570d6_cgraph">
<area shape="rect" id="node3" href="_byte_array_8c.html#aefe112436e17fc5a1c56d263596a612b" title="gets ByteArray Subsection Reference" alt="" coords="265,111,487,140"/><area shape="rect" id="node5" href="_byte_array_8c.html#a38e852a1c627acf4baa1159e1086927e" title="destorys byte array" alt="" coords="601,59,724,88"/><area shape="rect" id="node9" href="_object_8c.html#a8460165be167be3b0816d84f498e3733" title="Casts the pointer to the Object; use this to avoid explicitly casting." alt="" coords="924,112,1001,141"/><area shape="rect" id="node14" href="_byte_array_8c.html#a2811955249437e6f4f47a4fe3b706b2e" title="initializes ByteArray Subsection Reference" alt="" coords="537,163,788,192"/><area shape="rect" id="node7" href="_object_8c.html#a9773962d80072e39e235802b57907208" title="destructor" alt="" coords="912,5,1013,35"/><area shape="rect" id="node11" href="_byte_array_8c.html#a3be6046f319ef59baf73dc0dfadd321d" title="release Byte Array SharedData Reference" alt="" coords="837,59,1088,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_a31a3d8cdecb826da19038679922570d6_icgraph.png" border="0" usemap="#_script_8c_a31a3d8cdecb826da19038679922570d6_icgraph" alt=""/></div>
<map name="_script_8c_a31a3d8cdecb826da19038679922570d6_icgraph" id="_script_8c_a31a3d8cdecb826da19038679922570d6_icgraph">
<area shape="rect" id="node3" href="_transaction_input_8h.html#a8eb115030448e943f94d8ecff0fa21a9" title="deserializes a TransactionInput so that it can be used as an object" alt="" coords="269,5,451,35"/><area shape="rect" id="node17" href="_transaction_output_8h.html#a484844cadde17ce53f58dcf0fceb52b2" title="Deserialises a TransactionOutput so that it can be used as an object." alt="" coords="265,59,455,88"/><area shape="rect" id="node5" href="_transaction_8h.html#ada5d9c85c4dc1ff7384ee49d6fd97ff8" title="Deserialises a Transaction so that it can be used as an object." alt="" coords="504,32,656,61"/><area shape="rect" id="node7" href="_block_8h.html#a219df1f8f05a691f09e283731eb86129" title="Deserialize With Transaction." alt="" coords="704,32,891,61"/><area shape="rect" id="node9" href="_block_8h.html#a9dcdbbf01ad57512119aa46013c7f92e" title="Deserialize the Block." alt="" coords="939,32,1056,61"/><area shape="rect" id="node11" href="_block_headers_8h.html#ace10b6ab479717f0540e5a5528ca3952" title="Deserializes a BlockHeaders so that it can be used as an object." alt="" coords="1123,5,1288,35"/><area shape="rect" id="node13" href="_block_8h.html#af1b6c7c59cf5fd4c7d9f94a6179dcb43" title="initBlockWithGenesisBlockInfo" alt="" coords="1104,59,1307,88"/><area shape="rect" id="node15" href="_block_8c.html#a9f12323a1c19b0686bc1b64868a97dc9" title="Create a new Block from a default Block." alt="" coords="1356,59,1580,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acb39fe4d41a3f92781bb5adcbae79033"></a><!-- doxytag: member="Script.c::createNewScriptStackFromData" ref="acb39fe4d41a3f92781bb5adcbae79033" args="(uint8_t *data, uint32_t size, void(*onErrorReceived)(Error error, char *,...))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_byte_array.html">Script</a>* createNewScriptStackFromData </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="_constants_8h.html#a2c3e4bb40f36b262a5214e2da2bca9c5">Error</a> error, char *,...)&#160;</td>
          <td class="paramname"><em>onErrorReceived</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new Script using data. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The data. This should be dynamically allocated. The new <a class="el" href="struct_byte_array.html" title="Structure for ByteArray objects.">ByteArray</a> object will take care of it's memory management so do not free this data once passed into this constructor. </td></tr>
    <tr><td class="paramname">size</td><td>Size in bytes for the new array. </td></tr>
    <tr><td class="paramname">onErrorReceived</td><td>Struct for handling errors. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The new Script object. </dd></dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00264">264</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_acb39fe4d41a3f92781bb5adcbae79033_cgraph.png" border="0" usemap="#_script_8c_acb39fe4d41a3f92781bb5adcbae79033_cgraph" alt=""/></div>
<map name="_script_8c_acb39fe4d41a3f92781bb5adcbae79033_cgraph" id="_script_8c_acb39fe4d41a3f92781bb5adcbae79033_cgraph">
<area shape="rect" id="node3" href="_byte_array_8c.html#a106c7d7657b7f9758d5c1a2caa329ce4" title="createNewByteArrayFromData" alt="" coords="265,111,465,140"/><area shape="rect" id="node5" href="_byte_array_8c.html#a38e852a1c627acf4baa1159e1086927e" title="destorys byte array" alt="" coords="545,59,668,88"/><area shape="rect" id="node9" href="_object_8c.html#a8460165be167be3b0816d84f498e3733" title="Casts the pointer to the Object; use this to avoid explicitly casting." alt="" coords="833,112,911,141"/><area shape="rect" id="node14" href="_byte_array_8c.html#aeaa5d627e335dd6464668588ad9b0e21" title="createNewByteArrayUsingDataCopy" alt="" coords="516,163,697,192"/><area shape="rect" id="node7" href="_object_8c.html#a9773962d80072e39e235802b57907208" title="destructor" alt="" coords="821,5,923,35"/><area shape="rect" id="node11" href="_byte_array_8c.html#a3be6046f319ef59baf73dc0dfadd321d" title="release Byte Array SharedData Reference" alt="" coords="747,59,997,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_acb39fe4d41a3f92781bb5adcbae79033_icgraph.png" border="0" usemap="#_script_8c_acb39fe4d41a3f92781bb5adcbae79033_icgraph" alt=""/></div>
<map name="_script_8c_acb39fe4d41a3f92781bb5adcbae79033_icgraph" id="_script_8c_acb39fe4d41a3f92781bb5adcbae79033_icgraph">
<area shape="rect" id="node3" href="_script_8h.html#acd97590583a26ab99944ec9e2217d879" title="Executes a bitcoin script." alt="" coords="265,29,367,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7da0d327f61176d21e35c3c88462a48b"></a><!-- doxytag: member="Script.c::createNewScriptStackUsingCopyOfData" ref="a7da0d327f61176d21e35c3c88462a48b" args="(uint8_t *data, uint32_t size, void(*onErrorReceived)(Error error, char *,...))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_byte_array.html">Script</a>* createNewScriptStackUsingCopyOfData </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="_constants_8h.html#a2c3e4bb40f36b262a5214e2da2bca9c5">Error</a> error, char *,...)&#160;</td>
          <td class="paramname"><em>onErrorReceived</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new Script using a copy of data. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The data is copied </td></tr>
    <tr><td class="paramname">size</td><td>Size in bytes for the new array. </td></tr>
    <tr><td class="paramname">onErrorReceived</td><td>Struct for handling errors. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The new Script object. </dd></dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00269">269</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_a7da0d327f61176d21e35c3c88462a48b_cgraph.png" border="0" usemap="#_script_8c_a7da0d327f61176d21e35c3c88462a48b_cgraph" alt=""/></div>
<map name="_script_8c_a7da0d327f61176d21e35c3c88462a48b_cgraph" id="_script_8c_a7da0d327f61176d21e35c3c88462a48b_cgraph">
<area shape="rect" id="node3" href="_byte_array_8c.html#a3affebc3c5fab0302f7d3163445c12da" title="createNewByteArrayUsingDataCopy" alt="" coords="316,111,551,140"/><area shape="rect" id="node5" href="_byte_array_8c.html#a38e852a1c627acf4baa1159e1086927e" title="destorys byte array" alt="" coords="648,59,771,88"/><area shape="rect" id="node9" href="_object_8c.html#a8460165be167be3b0816d84f498e3733" title="Casts the pointer to the Object; use this to avoid explicitly casting." alt="" coords="953,112,1031,141"/><area shape="rect" id="node14" href="_byte_array_8c.html#afe08120f71b0234fb818b46311681573" title="initNewByteArrayUsingDataCopy" alt="" coords="601,163,817,192"/><area shape="rect" id="node7" href="_object_8c.html#a9773962d80072e39e235802b57907208" title="destructor" alt="" coords="941,5,1043,35"/><area shape="rect" id="node11" href="_byte_array_8c.html#a3be6046f319ef59baf73dc0dfadd321d" title="release Byte Array SharedData Reference" alt="" coords="867,59,1117,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aec9ea0bb8f3fca33afcbda7630d723b2"></a><!-- doxytag: member="Script.c::executeScript" ref="aec9ea0bb8f3fca33afcbda7630d723b2" args="(Script *script, ScriptStack *stack, TransactionHashStatus(*getTransactionInputHashForVerification)(void *, ByteArray *, uint32_t, SignatureType, uint8_t *), void *transaction, uint32_t inputIndex, int p2sh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_constants_8h.html#a5bdbd094ca1cda7631026bcf5b883620">ScriptExecutionStatus</a> executeScript </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_byte_array.html">Script</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_script_stack.html">ScriptStack</a> *&#160;</td>
          <td class="paramname"><em>stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_constants_8h.html#afe32e161e878b8e5ddb8ed32907ad826">TransactionHashStatus</a>(*)(void *, <a class="el" href="struct_byte_array.html">ByteArray</a> *, uint32_t, <a class="el" href="_constants_8h.html#a7456a1be27da2089f984a0ede62c6c50">SignatureType</a>, uint8_t *)&#160;</td>
          <td class="paramname"><em>getHashForSignature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>inputIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p2sh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Executes a bitcoin script. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The Script object with the program </td></tr>
    <tr><td class="paramname">stack</td><td>A pointer to the input stack for the program. </td></tr>
    <tr><td class="paramname">getHashForSig</td><td>A pointer to the function to get the hash for checking the signature. Should take a <a class="el" href="struct_transaction.html">Transaction</a> object, input index and the SignatureType and the Dependencies object. </td></tr>
    <tr><td class="paramname">transaction</td><td><a class="el" href="struct_transaction.html">Transaction</a> for checking the signatures. </td></tr>
    <tr><td class="paramname">inputIndex</td><td>The index of the input for the signature. </td></tr>
    <tr><td class="paramname">p2sh</td><td>If FALSE, do not allow any P2SH matches. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>GOOD_SCRIPT if the program ended with true, BAD_SCRIPT on script failure or SCRIPT_ERR if an error occurred with the interpreter such as running of of memory. </dd></dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00274">274</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_aec9ea0bb8f3fca33afcbda7630d723b2_cgraph.png" border="0" usemap="#_script_8c_aec9ea0bb8f3fca33afcbda7630d723b2_cgraph" alt=""/></div>
<map name="_script_8c_aec9ea0bb8f3fca33afcbda7630d723b2_cgraph" id="_script_8c_aec9ea0bb8f3fca33afcbda7630d723b2_cgraph">
<area shape="rect" id="node3" href="_script_8c.html#ad73ed8795ecc28c1967ef9a3a618b3c1" title="Converts a int64_t into a ScriptByteVector." alt="" coords="180,5,388,35"/><area shape="rect" id="node5" href="_script_8c.html#a05e400cb6322e101e8e6a3ebafed022d" title="Converts a ScriptByteVector to a 64 bit signed integer." alt="" coords="180,59,388,88"/><area shape="rect" id="node7" href="_script_8c.html#aa2df10dc8c05ec7340c2f22381dde313" title="Returns a copy of a stack item, &quot;fromTop&quot; from the top." alt="" coords="177,112,391,141"/><area shape="rect" id="node9" href="_script_8c.html#ad6a383832d77f52a4910c2b7d737d326" title="Returns a new empty scriptstack." alt="" coords="203,165,365,195"/><area shape="rect" id="node11" href="_byte_array_8c.html#a106c7d7657b7f9758d5c1a2caa329ce4" title="createNewByteArrayFromData" alt="" coords="460,211,660,240"/><area shape="rect" id="node15" href="_object_8c.html#a9773962d80072e39e235802b57907208" title="destructor" alt="" coords="1075,159,1176,188"/><area shape="rect" id="node25" href="_script_8c.html#acb39fe4d41a3f92781bb5adcbae79033" title="Creates a new Script using data." alt="" coords="179,269,389,299"/><area shape="rect" id="node29" href="_crypt_8c.html#ad2f883546aec1d35706944513146c05a" title="Verifies an ECDSA signature. This function must stick to the cryptography requirements in OpenSSL ver..." alt="" coords="233,528,335,557"/><area shape="rect" id="node32" href="_byte_array_8c.html#aceedce9c30c691b211185ee9b454aae4" title="Get a pointer to the underlying data starting at self&#45;&gt;offset." alt="" coords="497,264,623,293"/><area shape="rect" id="node34" href="_byte_array_8c.html#ac37879c5183d813699af84e23e8137ee" title="gets Byte from ByteArray" alt="" coords="483,843,637,872"/><area shape="rect" id="node36" href="_transaction_8c.html#a5bc3cb0f58d027cc53fb21f90cc69588" title="Gets the hash for signing or signature checking for a transaction input. The transaction input needs ..." alt="" coords="159,424,409,453"/><area shape="rect" id="node67" href="_crypt_8c.html#a31002de62901cbe9c88a0fd0f5f57770" title="SHA&#45;256 cryptographic hash function." alt="" coords="527,789,593,819"/><area shape="rect" id="node71" href="_script_8c.html#ae63afad4294e52303b66f910fda58525" title="Determines if a script object matches the P2SH template; i.e. BIP 0016 see https://en.bitcoin.it/wiki/BIP_0016." alt="" coords="233,632,335,661"/><area shape="rect" id="node74" href="_script_8c.html#a230165cbcd191bbb3830aebaa18a2719" title="Pops the top ScriptByteVector off the ScriptStack." alt="" coords="207,685,361,715"/><area shape="rect" id="node76" href="_script_8c.html#a42109fe30e56a4ca86d2bf70a3d08ee1" title="Push a ScriptByteVector item onto the stack which is freed by the stack." alt="" coords="161,739,407,768"/><area shape="rect" id="node78" href="_byte_array_8c.html#a49e0dcce3198b633d8f78dd56aa96597" title="read an int 16 As little Endian from ByteArray" alt="" coords="160,792,408,821"/><area shape="rect" id="node80" href="_byte_array_8c.html#a6fe303a6a14235d60ef9024a1463d630" title="read an int 32 As little Endian from ByteArray" alt="" coords="160,845,408,875"/><area shape="rect" id="node82" href="_script_8c.html#a2192430534274747a5b711b19261e4fe" title="Removes top ScriptByteVector from the stack." alt="" coords="196,899,372,928"/><area shape="rect" id="node84" href="_script_8c.html#a8d0dbc84be887aa4d67eb2bfafbf458b" title="Removes occurrences of a signature from script data." alt="" coords="175,952,393,981"/><area shape="rect" id="node86" href="_crypt_8c.html#a11ffcd5481255317891e36827279bd42" title="RIPEMD&#45;160 cryptographic hash function." alt="" coords="240,1005,328,1035"/><area shape="rect" id="node88" href="_crypt_8c.html#a65ada373e8917a80136b5756d3e55932" title="SHA&#45;1 cryptographic hash function." alt="" coords="251,1059,317,1088"/><area shape="rect" id="node91" href="_script_8c.html#a2c8040a862763eac525a2907846aa70d" title="Evaluates the top ScriptByteVector on a ScriptStack as a boolean. False if 0 or &#45;0." alt="" coords="191,1112,377,1141"/><area shape="rect" id="node13" href="_byte_array_8c.html#a38e852a1c627acf4baa1159e1086927e" title="destorys byte array" alt="" coords="769,211,892,240"/><area shape="rect" id="node17" href="_object_8c.html#a8460165be167be3b0816d84f498e3733" title="Casts the pointer to the Object; use this to avoid explicitly casting." alt="" coords="1087,315,1164,344"/><area shape="rect" id="node22" href="_byte_array_8c.html#aeaa5d627e335dd6464668588ad9b0e21" title="createNewByteArrayUsingDataCopy" alt="" coords="740,315,921,344"/><area shape="rect" id="node19" href="_byte_array_8c.html#a3be6046f319ef59baf73dc0dfadd321d" title="release Byte Array SharedData Reference" alt="" coords="1000,212,1251,241"/><area shape="rect" id="node38" href="_byte_array_8c.html#a7c9e6ea6d3022a2e858e91e207be9ec2" title="copy a ByteArray To another ByteArray" alt="" coords="469,424,651,453"/><area shape="rect" id="node40" href="_byte_array_8c.html#ae7051cc025f26ae1c8ddf6e4f7fef597" title="createNewByteArrayOfSize" alt="" coords="469,371,651,400"/><area shape="rect" id="node47" href="_var_len_int_8c.html#a784e8aad4e7aead2119ede96096f33a9" title="Returns a variable integer from an unsigned 64 bit integer." alt="" coords="469,528,651,557"/><area shape="rect" id="node49" href="_var_len_int_8c.html#a9a5568c05dc89004c60b0a1679b38ba6" title="Returns the variable integer byte size of a 64 bit integer." alt="" coords="763,475,899,504"/><area shape="rect" id="node51" href="_var_len_int_8c.html#a12852f478f7fcd7cacc0b150fa7fe12a" title="Encodes variable size integer into bytes." alt="" coords="500,581,620,611"/><area shape="rect" id="node57" href="_byte_array_8c.html#ab7e0f883b2d3ff4d4b253f4257f6916a" title="writes Integer_32 as Little&#45;Endian Into ByteArray" alt="" coords="709,635,952,664"/><area shape="rect" id="node59" href="_byte_array_8c.html#a7bed1ea7fa0945a98bc4548d72236446" title="writes Integer_64 as Little&#45;Endian Into ByteArray" alt="" coords="709,688,952,717"/><area shape="rect" id="node61" href="_byte_array_8c.html#a3c6396093509698d1346474653f63421" title="Gets a ByteArray from another object. Use this to avoid casts." alt="" coords="511,736,609,765"/><area shape="rect" id="node64" href="_message_8c.html#a9ab128ae9cafefd9b05e2e0bfa719770" title="getter" alt="" coords="513,317,607,347"/><area shape="rect" id="node44" href="_byte_array_8c.html#a55b26b3cc3bf85148001735579d832d3" title="initByteArrayOfSize" alt="" coords="763,419,899,448"/><area shape="rect" id="node53" href="_byte_array_8c.html#aa97aa7ca8177b767d78d5f85a00a00c9" title="sets Byte In ByteArray" alt="" coords="763,581,899,611"/><area shape="rect" id="node55" href="_byte_array_8c.html#aef95198f4933d68abf41255b67107b28" title="writes Integer_16 as Little&#45;Endian Into ByteArray" alt="" coords="709,528,952,557"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_aec9ea0bb8f3fca33afcbda7630d723b2_icgraph.png" border="0" usemap="#_script_8c_aec9ea0bb8f3fca33afcbda7630d723b2_icgraph" alt=""/></div>
<map name="_script_8c_aec9ea0bb8f3fca33afcbda7630d723b2_icgraph" id="_script_8c_aec9ea0bb8f3fca33afcbda7630d723b2_icgraph">
<area shape="rect" id="node3" href="_script_8h.html#acd97590583a26ab99944ec9e2217d879" title="Executes a bitcoin script." alt="" coords="159,29,260,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae63afad4294e52303b66f910fda58525"></a><!-- doxytag: member="Script.c::isP2SHScript" ref="ae63afad4294e52303b66f910fda58525" args="(Script *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int isP2SHScript </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_byte_array.html">Script</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determines if a script object matches the P2SH template; i.e. BIP 0016 see <a href="https://en.bitcoin.it/wiki/BIP_0016.">https://en.bitcoin.it/wiki/BIP_0016.</a> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The Script object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>one if the script matches the P2SH template, zero otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00034">34</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_ae63afad4294e52303b66f910fda58525_cgraph.png" border="0" usemap="#_script_8c_ae63afad4294e52303b66f910fda58525_cgraph" alt=""/></div>
<map name="_script_8c_ae63afad4294e52303b66f910fda58525_cgraph" id="_script_8c_ae63afad4294e52303b66f910fda58525_cgraph">
<area shape="rect" id="node3" href="_byte_array_8c.html#ac37879c5183d813699af84e23e8137ee" title="gets Byte from ByteArray" alt="" coords="155,5,309,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_ae63afad4294e52303b66f910fda58525_icgraph.png" border="0" usemap="#_script_8c_ae63afad4294e52303b66f910fda58525_icgraph" alt=""/></div>
<map name="_script_8c_ae63afad4294e52303b66f910fda58525_icgraph" id="_script_8c_ae63afad4294e52303b66f910fda58525_icgraph">
<area shape="rect" id="node3" href="_script_8h.html#acd97590583a26ab99944ec9e2217d879" title="Executes a bitcoin script." alt="" coords="156,29,257,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a230165cbcd191bbb3830aebaa18a2719"></a><!-- doxytag: member="Script.c::popElementFromStack" ref="a230165cbcd191bbb3830aebaa18a2719" args="(ScriptStack *stack)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a> popElementFromStack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_script_stack.html">ScriptStack</a> *&#160;</td>
          <td class="paramname"><em>stack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pops the top <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> off the <a class="el" href="struct_script_stack.html" title="Structure that holds byte vector data in a stack.">ScriptStack</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stack</td><td>A pointer to the stack to remove the data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> the top <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> on the stack </dd></dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00120">120</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_a230165cbcd191bbb3830aebaa18a2719_icgraph.png" border="0" usemap="#_script_8c_a230165cbcd191bbb3830aebaa18a2719_icgraph" alt=""/></div>
<map name="_script_8c_a230165cbcd191bbb3830aebaa18a2719_icgraph" id="_script_8c_a230165cbcd191bbb3830aebaa18a2719_icgraph">
<area shape="rect" id="node3" href="_script_8h.html#acd97590583a26ab99944ec9e2217d879" title="Executes a bitcoin script." alt="" coords="209,29,311,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a42109fe30e56a4ca86d2bf70a3d08ee1"></a><!-- doxytag: member="Script.c::pushScriptByteVectorOntoScriptStack" ref="a42109fe30e56a4ca86d2bf70a3d08ee1" args="(ScriptStack *stack, ScriptByteVector byteVector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pushScriptByteVectorOntoScriptStack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_script_stack.html">ScriptStack</a> *&#160;</td>
          <td class="paramname"><em>stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a>&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Push a <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> item onto the stack which is freed by the stack. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stack</td><td>A pointer to the <a class="el" href="struct_script_stack.html" title="Structure that holds byte vector data in a stack.">ScriptStack</a> to push data onto. </td></tr>
    <tr><td class="paramname">data</td><td>The item to push on the stack. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00071">71</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_a42109fe30e56a4ca86d2bf70a3d08ee1_icgraph.png" border="0" usemap="#_script_8c_a42109fe30e56a4ca86d2bf70a3d08ee1_icgraph" alt=""/></div>
<map name="_script_8c_a42109fe30e56a4ca86d2bf70a3d08ee1_icgraph" id="_script_8c_a42109fe30e56a4ca86d2bf70a3d08ee1_icgraph">
<area shape="rect" id="node3" href="_script_8h.html#acd97590583a26ab99944ec9e2217d879" title="Executes a bitcoin script." alt="" coords="300,29,401,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2192430534274747a5b711b19261e4fe"></a><!-- doxytag: member="Script.c::removeElementFromStack" ref="a2192430534274747a5b711b19261e4fe" args="(ScriptStack *stack)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void removeElementFromStack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_script_stack.html">ScriptStack</a> *&#160;</td>
          <td class="paramname"><em>stack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes top <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> from the stack. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stack</td><td>A pointer to the stack to remove the data. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00112">112</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_a2192430534274747a5b711b19261e4fe_icgraph.png" border="0" usemap="#_script_8c_a2192430534274747a5b711b19261e4fe_icgraph" alt=""/></div>
<map name="_script_8c_a2192430534274747a5b711b19261e4fe_icgraph" id="_script_8c_a2192430534274747a5b711b19261e4fe_icgraph">
<area shape="rect" id="node3" href="_script_8h.html#acd97590583a26ab99944ec9e2217d879" title="Executes a bitcoin script." alt="" coords="233,29,335,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8d0dbc84be887aa4d67eb2bfafbf458b"></a><!-- doxytag: member="Script.c::removeSignatureFromStackScript" ref="a8d0dbc84be887aa4d67eb2bfafbf458b" args="(uint8_t *subScript, uint32_t *subScriptLen, ScriptByteVector signature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void removeSignatureFromStackScript </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>subScript</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>subScriptLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_script_byte_vector.html">ScriptByteVector</a>&#160;</td>
          <td class="paramname"><em>signature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes occurrences of a signature from script data. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">subScript</td><td>The sub script to remove signatures from. </td></tr>
    <tr><td class="paramname">subScriptLen</td><td>A pointer to the length of the sub script. The length will be modified to the new length. </td></tr>
    <tr><td class="paramname">signature</td><td>The signature to be found and removed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00211">211</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_a8d0dbc84be887aa4d67eb2bfafbf458b_icgraph.png" border="0" usemap="#_script_8c_a8d0dbc84be887aa4d67eb2bfafbf458b_icgraph" alt=""/></div>
<map name="_script_8c_a8d0dbc84be887aa4d67eb2bfafbf458b_icgraph" id="_script_8c_a8d0dbc84be887aa4d67eb2bfafbf458b_icgraph">
<area shape="rect" id="node3" href="_script_8h.html#acd97590583a26ab99944ec9e2217d879" title="Executes a bitcoin script." alt="" coords="273,29,375,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2c8040a862763eac525a2907846aa70d"></a><!-- doxytag: member="Script.c::topElementEvaluatesToTrue" ref="a2c8040a862763eac525a2907846aa70d" args="(ScriptStack *stack)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int topElementEvaluatesToTrue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_script_stack.html">ScriptStack</a> *&#160;</td>
          <td class="paramname"><em>stack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Evaluates the top <a class="el" href="struct_script_byte_vector.html" title="Structure for a byte vector; Byte vectors are interpreted as little-endian variable-length integers w...">ScriptByteVector</a> on a <a class="el" href="struct_script_stack.html" title="Structure that holds byte vector data in a stack.">ScriptStack</a> as a boolean. False if 0 or -0. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stack</td><td>The <a class="el" href="struct_script_stack.html" title="Structure that holds byte vector data in a stack.">ScriptStack</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The boolean result. </dd></dl>

<p>Definition at line <a class="el" href="_script_8c_source.html#l00086">86</a> of file <a class="el" href="_script_8c_source.html">Script.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_script_8c_a2c8040a862763eac525a2907846aa70d_icgraph.png" border="0" usemap="#_script_8c_a2c8040a862763eac525a2907846aa70d_icgraph" alt=""/></div>
<map name="_script_8c_a2c8040a862763eac525a2907846aa70d_icgraph" id="_script_8c_a2c8040a862763eac525a2907846aa70d_icgraph">
<area shape="rect" id="node3" href="_script_8h.html#acd97590583a26ab99944ec9e2217d879" title="Executes a bitcoin script." alt="" coords="241,29,343,59"/></map>
</div>
</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_script_8c.html">Script.c</a>      </li>
      <li class="footer">Generated on Wed Nov 14 2012 18:36:11 for Bitcoin by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
